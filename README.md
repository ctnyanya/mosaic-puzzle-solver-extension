# 马赛克拼图自动求解器 Chrome扩展

一个能够自动解决马赛克拼图的Chrome浏览器扩展，专为 [cn.puzzle-minesweeper.com](https://cn.puzzle-minesweeper.com/) 网站设计。

## ✨ 功能特性

- 🧠 **智能求解算法**：采用约束传播 + 回溯搜索的混合算法
- 🎯 **两种求解模式**：即时求解和步骤演示
- 🔍 **拼图分析**：自动解析网页上的拼图约束
- 🎬 **步骤演示**：可以手动控制每一步的求解过程
- 🔄 **智能重置**：一键重置扩展状态和拼图网格
- 🤖 **机器人标识**：自动设置机器人标记以符合网站规则
- 🔧 **开发者模式**：可切换调试输出

## 🎮 支持的拼图类型

- ✅ **简单拼图**：基础逻辑推理即可解决
- ✅ **困难拼图**：需要回溯搜索的复杂拼图

## 🚀 安装方法

### 方法一：开发者模式安装

1. 下载或克隆此仓库到本地
2. 打开Chrome浏览器，进入 `chrome://extensions/`
3. 启用右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目文件夹
6. 扩展安装完成！

### 方法二：打包安装

1. 下载Release中的`.crx`文件
2. 拖拽到Chrome扩展管理页面进行安装

## 📋 使用说明

1. **访问目标网站**：打开 [cn.puzzle-minesweeper.com](https://cn.puzzle-minesweeper.com/)
2. **自动弹出**：扩展会自动检测并弹出控制面板
3. **选择模式**：
   - **即时求解**：自动完成整个拼图
   - **步骤演示**：手动控制每一步求解过程
4. **开始求解**：点击"求解拼图"按钮
5. **重置功能**：需要重新开始时点击"重置"按钮

## 🔧 开发者功能

在F12控制台中可以使用以下命令：

```javascript
// 启用调试模式
enableMosaicDebug()

// 关闭调试模式
disableMosaicDebug()
```

## 📁 项目结构

```
mosaic-chrome-extension/
├── manifest.json          # 扩展配置文件
├── popup.html             # 扩展弹窗界面
├── popup.js               # 弹窗逻辑控制
├── content.js             # 网页内容脚本
├── mosaic-solver.js       # 核心求解算法
├── background.js          # 后台服务脚本
└── README.md             # 项目说明文档
```

## 🧠 算法原理

### 约束传播算法
- 分析每个数字约束，确定其3x3区域内必须填充的单元格数量
- 使用两种策略：
  1. 如果已填充数量达到要求，标记其余单元格为空白
  2. 如果已填充+未知数量等于要求，填充所有未知单元格

### 回溯搜索算法
- 当约束传播无法继续时，选择一个未确定的单元格
- 尝试"填充"和"空白"两种状态
- 递归应用约束传播，如果出现矛盾则回溯
- 保证能找到所有可能的解决方案

## 🛠️ 技术栈

- **JavaScript ES6+**：核心开发语言
- **Chrome Extension API**：浏览器扩展接口
- **DOM操作**：网页元素交互
- **Chrome Storage API**：设置持久化

## 📄 许可证

MIT License - 详见 [LICENSE](LICENSE) 文件

## 🤝 贡献

欢迎提交Issue和Pull Request！

## ⚠️ 免责声明

此扩展仅用于学习和研究目的。请遵守目标网站的使用条款和机器人协议。

---

**享受自动求解的乐趣！** 🎉